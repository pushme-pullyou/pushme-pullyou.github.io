<!doctype html>
<html lang=en >
<head>
<meta charset=utf-8 >
</head>
<body>
<script>
	// goal: drop this anywhere in any folder it will call the top level index.html and add the local read e path as location hash

	const protocol = location.protocol;
	console.log( 'protocol', protocol );

	const pathname = location.pathname;
	console.log( 'pathname', pathname);

	let path, path2, pathFull;

	const repo = 'pushme-pullyou.github.io'; // rename to repo name

	if ( protocol === 'file:' ) {

		const sliceStart = pathname.indexOf( repo ) + repo.length + 1;
		console.log( 'sliceStart', sliceStart );

		path = pathname.slice( sliceStart, pathname.lastIndexOf( '/' )  );
		console.log( 'path', path );

		pathFull = path.replace( /-/g, '' ).replace( /\w+/g, '..' ).slice( 0 ) + '/index.html#' + path + '/README.md';

	} else if ( protocol.includes( 'http' ) ) {

		//str = 'https://pushme-pullyou.github.io/tootoo-templates/index.html'
		pathname = location.pathname;
		len = location.origin.length + 1;
		path = str.slice(len, pathname.lastIndexOf( '/' ) );
		path2 = path.replace( /-/g, '' ).replace( /\w+/g, '..' );

		pathFull = path2 + '/index.html#' + path + '/README.md';
		
		//path = pathname.slice( 20, pathname.lastIndexOf( '/' )  ).replace( /-/g, '' ).replace( /\w+/g, '..' )
		//console.log( 'path', path );
		
		//path2 = pathname.slice( 4, pathname.lastIndexOf( '/' )  );
		//console.log( 'path2', path2 );
		//pathFull = path + '/index.html#' + path2 + '/README.md';

	}


	console.log( 'pathFull', pathFull );

	//window.location.href = pathFull;


/*

const pathname = location.pathname;
path = pathname.slice( 1, pathname.lastIndexOf( '/' )  );
console.log( 'path', path );
pathFull = path.replace( /-/g, '' ).replace( /\w+/g, '..' ) + '/index.html#' + path + '/README.md';
console.log( 'pathFull', pathFull);

*/

</script>
</body>
</html>
